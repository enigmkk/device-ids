#if UNITY_ANDROID && !UNITY_EDITOR
namespace Astra.Device
{
    public class IdsAndroid : IdsPlatform, IDeviceIdsBridge
    {
        AndroidJavaClass m_bridge;
        public override void Init()
        {
            m_bridge = new AndroidJavaClass("com.astra.ids.DeviceIdsBridge");
            var proxy = new DeviceIdBridge(this);
            m_bridge.CallStatic("start", proxy);
        }
        private string GetDeviceId()
        {
            return m_bridge.CallStatic<string>("getDeviceID");
        }
        string m_deviceId = "";
        public override string DeviceId
        {
            get
            {
                if (string.IsNullOrEmpty(m_deviceId))
                {
                    m_deviceId = GetDeviceId();
                }
                return m_deviceId;
            }
        }
        string m_gaid = "";
        public override string GAID
        {
            get { return m_gaid; }
        }
        public void OnGAIDReady(string gaid)
        {
            m_gaid = gaid;
            // 这里可以处理 GAID
            UnityEngine.Debug.Log("GAID: " + gaid);
        }
    }
}
#endif